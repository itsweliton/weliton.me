---
const { title, releaseDate, director, rating, posterUrl, posterAlt, genres, movieUrl } = Astro.props;

---

<div class="small w-[300px]">
  <div class="poster-container animate">
		<div class="poster-bg"></div>
		<div class="poster-frame">
			<img src="https://i.ebayimg.com/images/g/FnEAAOSwzKZZd~CV/s-l1200.webp" alt="Tron Poster">
			<div class="image-overlay"></div>
		</div>
	</div>
</div>


<style lang="scss">
$poster-width: 300px;
$poster-aspect-ratio: 1.5;

/*
* This first section fixes an error on the animation without the poster-bg, the borders get a weird black effect if there's a dark background on the page.
*/
.poster-container {
	position: relative;
	transition: transform 0.3s ease;
	transform-origin: center center;
	transform-style: preserve-3d;
	&.animate:hover {
		transform: perspective(800px) rotateZ(5deg) rotateY(-5deg) translateZ(10px);
	}
}
.poster-bg {
	width: calc($poster-width + 20px);
	height: calc($poster-width * $poster-aspect-ratio + 20px);
	position: absolute;
	top: -20px;
	left: 20px;
	background-color: #fff;
	z-index: 1;
}

// --------------------------------------------- //

.poster-frame {
	background-color: #f4f4f4;
	padding: 20px;
	box-shadow: 0px 0px 4px 3px #0000000D inset;
	position: relative;
	width: $poster-width;
	height: calc($poster-width * $poster-aspect-ratio);
	z-index: 2;
	margin: 0 40px;
	img {
		display: block;
		width: 100%;
		height: 100%;
	}
	&::after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(206.68deg, 
			rgba(255, 255, 255, 0.3) 16.72%, 
			rgba(255, 255, 255, 0.05) 60.78%, 
			rgba(255, 255, 255, 0) 81.27%);
		clip-path: polygon(100% 0, 0 0, 0 100%);
	}

	&::before {
		content: '';
		position: absolute;
		top: -20px;
		left: -20px;
		right: -20px;
		bottom: -20px;
		border: 20px solid #f8f8f8;
		z-index: -1;
		box-shadow: -10px 8px 8px 0px #00000014;
	}
}
.small {
	transform: scale(0.75);
}

.image-overlay {
	position: absolute;
	top: 20px;
	left: 20px;
	right: 20px;
	bottom: 20px;
	z-index: 3;
	background: linear-gradient(270deg, 
		rgba(255, 255, 255, 0.12) 0%, 
		rgba(230, 230, 230, 0.0665779) 2.74%,
		rgba(218, 218, 218, 0.04) 7.84%, 
		rgba(143, 143, 143, 0) 16.5%, 
		rgba(131, 131, 131, 0.11) 49.85%, 
		rgba(0, 0, 0, 0.13) 50.06%, 
		rgba(115, 115, 115, 0.04) 50.26%, 
		rgba(255, 255, 255, 0.02) 95.48%, 
		rgba(0, 0, 0, 0.06) 100%),
		linear-gradient(360deg, 
		rgba(255, 255, 255, 0.12) 0%, 
		rgba(230, 230, 230, 0.0665779) 2.74%,
		rgba(218, 218, 218, 0.04) 7.84%, 
		rgba(143, 143, 143, 0) 16.5%, 
		rgba(131, 131, 131, 0.11) 49.85%, 
		rgba(0, 0, 0, 0.12) 50.06%, 
		rgba(115, 115, 115, 0.02) 50.26%, 
		rgba(255, 255, 255, 0.04) 95.48%, 
		rgba(0, 0, 0, 0.06) 100%);
	pointer-events: none;
}
</style>